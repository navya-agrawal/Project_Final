{"ast":null,"code":"var _jsxFileName = \"/home/navya_aggarwal/Downloads/teamfit rental/use-my-tech-stuff/src/components/EditPageForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport axiosWithAuth from '../utils/axiosWithAuth';\nimport { TechContext } from '../contexts/techContext';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  item_name: '',\n  item_price: '',\n  item_description: '',\n  item_available: ''\n};\n\nconst EditPageForm = () => {\n  _s();\n\n  const {\n    goBack\n  } = useHistory();\n  const {\n    id\n  } = useParams();\n  const {\n    tech,\n    setTech\n  } = useContext(TechContext);\n  const [editItem, setEditItem] = useState(initialState); // Populates the Edit Form fields with the item with id matching\n\n  useEffect(() => {\n    axiosWithAuth().get(`/items/${id}`).then(res => {\n      setEditItem(res.data);\n    }).catch(err => {\n      console.log(err.response);\n    });\n  }, [id]); // Updates both state and the server with the edits\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axiosWithAuth().put(`/items/${id}`, editItem).then(res => {\n      const filtered = tech.map(item => {\n        return item.item_id === res.data.item_id ? res.data : item;\n      });\n      setTech(filtered); //update state\n\n      goBack();\n    }).catch(err => {\n      console.log(err.response);\n    });\n  };\n\n  const changeHandler = e => {\n    setEditItem({ ...editItem,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const deleteItem = id => {\n    //Deletes item off of local state\n    setTech(tech.filter(item => item.item_id !== Number(id)));\n  };\n\n  const handleDeleteClick = e => {\n    e.preventDefault();\n    axiosWithAuth().delete(`/items/${id}`).then(res => {\n      deleteItem(id);\n      goBack();\n    }).catch(err => {\n      alert(err.response);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editPageContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Editing: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: editItem.item_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Item Name\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: changeHandler,\n          value: editItem.item_name,\n          name: \"item_name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Price\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: changeHandler,\n          value: editItem.item_price,\n          name: \"item_price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Description\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: changeHandler,\n          value: editItem.item_description,\n          name: \"item_description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Is it available?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"item_yes\",\n        children: \"Yes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        id: \"item_yes\",\n        onChange: changeHandler,\n        value: true,\n        name: \"item_available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"item_no\",\n        children: \"No\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        id: \"item_no\",\n        onChange: changeHandler,\n        value: false,\n        name: \"item_available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => goBack(),\n      children: \"Cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDeleteClick,\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditPageForm, \"TVCbsSx4FMJpAbCHf26QaZiOaZ0=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = EditPageForm;\nexport default EditPageForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditPageForm\");","map":{"version":3,"sources":["/home/navya_aggarwal/Downloads/teamfit rental/use-my-tech-stuff/src/components/EditPageForm.js"],"names":["React","useState","useEffect","useContext","useParams","useHistory","axiosWithAuth","TechContext","initialState","item_name","item_price","item_description","item_available","EditPageForm","goBack","id","tech","setTech","editItem","setEditItem","get","then","res","data","catch","err","console","log","response","handleSubmit","e","preventDefault","put","filtered","map","item","item_id","changeHandler","target","name","value","deleteItem","filter","Number","handleDeleteClick","delete","alert"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\n\nimport axiosWithAuth from '../utils/axiosWithAuth';\nimport { TechContext } from '../contexts/techContext';\nimport '../App.css'\nconst initialState= {\n    item_name: '',\n    item_price: '',\n    item_description: '',\n    item_available:''\n};\n\nconst EditPageForm = () => {\n    const { goBack } = useHistory();\n    const { id } = useParams();\n    const { tech, setTech } = useContext(TechContext);\n    const [editItem, setEditItem] = useState(initialState)\n\n    // Populates the Edit Form fields with the item with id matching\n    useEffect(() => {\n        axiosWithAuth()\n        .get(`/items/${id}`)\n        .then(res => {\n            setEditItem(res.data);\n        })\n        .catch(err => {\n            console.log(err.response)\n        });\n    }, [id]);\n\n    // Updates both state and the server with the edits\n    const handleSubmit = e => {\n        e.preventDefault();\n        axiosWithAuth()\n        .put(`/items/${id}`, editItem)\n        .then(res => {\n            const filtered = tech.map(item => {\n                return item.item_id === res.data.item_id ? res.data : item\n            })\n            setTech(filtered) //update state\n            goBack()\n        })\n        .catch(err => {\n            console.log(err.response)\n        });\n    };\n\n    const changeHandler = e => {\n        setEditItem({\n            ...editItem,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    const deleteItem = id => {  //Deletes item off of local state\n        setTech(tech.filter(item =>item.item_id !== Number(id)))\n    }\n\n    const handleDeleteClick = e => {\n        e.preventDefault();\n        axiosWithAuth()\n        .delete(`/items/${id}`)\n        .then(res => {\n            deleteItem(id)\n            goBack()\n        })\n        .catch(err => {\n            alert(err.response)\n        })\n    }\n\n    return(\n    <div className='editPageContainer'>\n        <form onSubmit={handleSubmit}>\n            <div className='edit-header'>\n                <h4>Editing: <strong>{editItem.item_name}</strong></h4>\n            </div>\n            <label>Item Name<br/>\n                <input \n                type= \"text\"\n                onChange={changeHandler}\n                value= {editItem.item_name}\n                name= \"item_name\"\n                />\n            </label>\n            <label>Price<br/>\n                <input \n                type= \"text\"\n                onChange={changeHandler}\n                value= {editItem.item_price}\n                name= \"item_price\"\n                />\n            </label>\n            <label>Description<br/>\n                <input \n                type= \"text\"\n                onChange={changeHandler}\n                value= {editItem.item_description}\n                name= \"item_description\"\n                />\n            </label>\n            <p>Is it available?</p>\n                <label for='item_yes'>Yes</label>\n                <input \n                type= \"radio\"\n                id='item_yes'\n                onChange={changeHandler}\n                value= {true}\n                name= \"item_available\"\n                />\n                <label for='item_no'>No</label>\n                <input \n                type= \"radio\"\n                id='item_no'\n                onChange={changeHandler}\n                value= {false}\n                name= \"item_available\"\n                />\n            <div className='buttonContainer'>\n                <button>Save</button>\n            </div>\n        </form>\n        <button onClick={()=>goBack()}>Cancel</button>\n        <button onClick={handleDeleteClick} >Delete</button>\n    </div>\n    );\n};\n\nexport default EditPageForm;\n"]},"metadata":{},"sourceType":"module"}