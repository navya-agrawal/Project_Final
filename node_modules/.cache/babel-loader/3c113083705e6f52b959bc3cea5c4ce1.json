{"ast":null,"code":"var _jsxFileName = \"/home/navya_aggarwal/Downloads/teamfit rental/use-my-tech-stuff/src/components/Card.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { UserContext } from '../contexts/userContext';\nimport { TechContext } from '../contexts/techContext';\nimport styled from 'styled-components';\nimport axiosWithAuth from '../utils/axiosWithAuth';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyleDiv = styled.div`\n\tborder:1px solid black;\n\tcolor:black;\n\tdisplay:flex;\n\tflex-direction:column;\n\twidth:25%;\n\theight:90%;\n\tmargin: 2% 3%;\n\tborder-radius:18px;\n\tbackground-color:white;\n\tpadding-bottom:2px;\n\tposition:relative;\n\t&:hover{\n\t\t.info{\n\t\t\topacity:.7;\n\t\t};\n\t};\n\timg{\n\t\tbox-sizing:content-box;\n\t\tobject-fit: cover;\n\t\twidth:100%;\n\t\tborder-radius:18px 18px 0 0;\n\t\theight:300px;\n\t};\n\t.card{\n\t\tdisplay:flex;\n\t\tflex-flow: column;\n\t\talign-items:flex-start;\n\t\tjustify-content:space-evenly;\n\t\tfont-weight:bold;\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t};\n\t.card p{\n\t\tmargin:1%;\n\t\tfont-size:1rem;\n\t};\n\t.image h1{\n\t\tmargin:0;\n\t\tcolor:black;\n\t\ttext-transform:capitalize;\n\t\tfont-size:2vw;\n\t};\n\t.image{\n\t\theight:100%;\n\t};\n\t.info{\n\t\tdisplay:flex;\n\t\tflex-flow:column;\n\t\tmargin-top:15%;\n\t\twidth: 100%;\n\t\theight: auto;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tz-index:10;\n\t\tbackground-color:white;\n\t\topacity:0;\n\t\t\n\t};\n\t@media (max-width:991px){\n\t\twidth:40%;\n\t\timg{\n\t\t\theight:250px;\n\t\t};\n\t\t.image h1{\n\t\tfont-size:3vw;\n\t\t};\n\t};\n\t@media (max-width:470px){\n\t\twidth:60%;\n\t\t.cards{\n\t\t\tflex-direction:column;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tflex-wrap: nowrap;\n\t\t};\n\t\timg{\n\t\t\theight:200px;\n\t\t};\n\t\t.image h1{\n\t\tfont-size:4vw;\n\t\t};\n\t};\n`;\n_c = StyleDiv;\n\nconst Card = props => {\n  _s();\n\n  const {\n    isLoggedIn,\n    localId\n  } = useContext(UserContext);\n  const {\n    tech,\n    setTech\n  } = useContext(TechContext);\n  const {\n    card\n  } = props;\n\n  const deleteItem = id => {\n    //Deletes item off of local state\n    setTech(tech.filter(item => item.item_id !== Number(id)));\n  };\n\n  const handleDeleteClick = e => {\n    e.preventDefault();\n    axiosWithAuth().delete(`/items/${card.item_id}`).then(res => {\n      deleteItem(res.data.item_id);\n    }).catch(err => {\n      console.log({\n        err\n      });\n    });\n  }; // const [image,setImage] = useState('')\n  // useEffect(() => {\n  // \tconst random = Math.floor((Math.random()*90)+10)\n  // \taxios.get(`https://picsum.photos/8${random}`)\n  // \t.then(res => {\n  // \t\tsetImage(res.config.url);\n  // \t})\n  // \t.catch(err => {\n  // \t\tconsole.log(err.response)\n  // \t})\n  // },[])\n\n\n  return /*#__PURE__*/_jsxDEV(StyleDiv, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"image\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: card.item_image_url,\n        alt: \"image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: card.item_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 4\n      }, this), Number(localId) === card.user_id && isLoggedIn && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ownerButtons\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/editpage/${card.item_id}`,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            variant: \"contained\",\n            children: \"edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"secondary\",\n          variant: \"contained\",\n          onClick: handleDeleteClick,\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Price: $\", card.item_price, \"/Day\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Available: \", card.item_available ? 'Yes' : 'No']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Owner: \", card.item_owner]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Description:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 20\n          }, this), card.item_description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 5\n        }, this), Number(localId) !== card.user_id && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" Email: \", Number(localId) !== card.user_id && isLoggedIn && /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `mailto:${card.owner_email}`,\n            children: [card.owner_email, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 106\n          }, this) || 'Please log in to see the email.']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 2\n  }, this);\n};\n\n_s(Card, \"s+utxqCt5gPwbfVnTTkOAY8RvSU=\");\n\n_c2 = Card;\nexport default Card;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyleDiv\");\n$RefreshReg$(_c2, \"Card\");","map":{"version":3,"sources":["/home/navya_aggarwal/Downloads/teamfit rental/use-my-tech-stuff/src/components/Card.js"],"names":["React","useContext","useEffect","useState","Link","UserContext","TechContext","styled","axiosWithAuth","Button","axios","StyleDiv","div","Card","props","isLoggedIn","localId","tech","setTech","card","deleteItem","id","filter","item","item_id","Number","handleDeleteClick","e","preventDefault","delete","then","res","data","catch","err","console","log","item_image_url","item_name","user_id","item_price","item_available","item_owner","item_description","owner_email"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { UserContext } from '../contexts/userContext';\nimport { TechContext} from '../contexts/techContext';\nimport styled from 'styled-components';\nimport axiosWithAuth from '../utils/axiosWithAuth';\n\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\n\nconst StyleDiv = styled.div`\n\tborder:1px solid black;\n\tcolor:black;\n\tdisplay:flex;\n\tflex-direction:column;\n\twidth:25%;\n\theight:90%;\n\tmargin: 2% 3%;\n\tborder-radius:18px;\n\tbackground-color:white;\n\tpadding-bottom:2px;\n\tposition:relative;\n\t&:hover{\n\t\t.info{\n\t\t\topacity:.7;\n\t\t};\n\t};\n\timg{\n\t\tbox-sizing:content-box;\n\t\tobject-fit: cover;\n\t\twidth:100%;\n\t\tborder-radius:18px 18px 0 0;\n\t\theight:300px;\n\t};\n\t.card{\n\t\tdisplay:flex;\n\t\tflex-flow: column;\n\t\talign-items:flex-start;\n\t\tjustify-content:space-evenly;\n\t\tfont-weight:bold;\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t};\n\t.card p{\n\t\tmargin:1%;\n\t\tfont-size:1rem;\n\t};\n\t.image h1{\n\t\tmargin:0;\n\t\tcolor:black;\n\t\ttext-transform:capitalize;\n\t\tfont-size:2vw;\n\t};\n\t.image{\n\t\theight:100%;\n\t};\n\t.info{\n\t\tdisplay:flex;\n\t\tflex-flow:column;\n\t\tmargin-top:15%;\n\t\twidth: 100%;\n\t\theight: auto;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tz-index:10;\n\t\tbackground-color:white;\n\t\topacity:0;\n\t\t\n\t};\n\t@media (max-width:991px){\n\t\twidth:40%;\n\t\timg{\n\t\t\theight:250px;\n\t\t};\n\t\t.image h1{\n\t\tfont-size:3vw;\n\t\t};\n\t};\n\t@media (max-width:470px){\n\t\twidth:60%;\n\t\t.cards{\n\t\t\tflex-direction:column;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tflex-wrap: nowrap;\n\t\t};\n\t\timg{\n\t\t\theight:200px;\n\t\t};\n\t\t.image h1{\n\t\tfont-size:4vw;\n\t\t};\n\t};\n`\n\nconst Card = (props) => {\n\tconst { isLoggedIn, localId } = useContext(UserContext);\n\tconst { tech, setTech } = useContext(TechContext);\n\tconst { card } = props;\n\t\n\n\tconst deleteItem = id => {  //Deletes item off of local state\n        setTech(tech.filter(item =>item.item_id !== Number(id)))\n    }\n\n    const handleDeleteClick = e => {\n        e.preventDefault();\n        axiosWithAuth()\n        .delete(`/items/${card.item_id}`)\n        .then(res => {\n            deleteItem(res.data.item_id)\n        })\n        .catch(err => {\n            console.log({err})\n        })\n    }\n\n\t// const [image,setImage] = useState('')\n\t// useEffect(() => {\n\t// \tconst random = Math.floor((Math.random()*90)+10)\n\t// \taxios.get(`https://picsum.photos/8${random}`)\n\t// \t.then(res => {\n\t// \t\tsetImage(res.config.url);\n\t// \t})\n\t// \t.catch(err => {\n\t// \t\tconsole.log(err.response)\n\t// \t})\n\t// },[])\n\n\t\n\n\treturn (\n\t\n\t<StyleDiv >\n\t\t<div className=\"image\">\n\t\t\t<img src={card.item_image_url} alt=\"image\"/>\n\t\t\t<h1>{card.item_name}</h1>\n\t\t\t{Number(localId)===card.user_id && isLoggedIn && (\n\t\t\t\t<div className='ownerButtons'>\n\t\t\t\t\t<Link to={`/editpage/${card.item_id}`}><Button color=\"primary\" variant= \"contained\">edit</Button></Link> \n\t\t\t\t\t<Button color=\"secondary\" variant= \"contained\" onClick={handleDeleteClick}>delete</Button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\n\t\t<div className=\"card\">\t\n\t\t\t<div className=\"info\">\n\t\t\t\t<p>Price: ${card.item_price}/Day</p>\n\t\t\t\t<p>Available: {card.item_available ? 'Yes' : 'No'}</p>\n\t\t\t\t<p>Owner: {card.item_owner}</p>\n\t\t\t\t<p>Description:<br/>{card.item_description}</p>\n        \t\t{Number(localId)!==card.user_id&&<p> Email: {((Number(localId)!==card.user_id && isLoggedIn && <a href={`mailto:${card.owner_email}`}>{card.owner_email} </a>)||'Please log in to see the email.')}</p>}\n\t\t\t</div>\n\t\t</div>\n\t</StyleDiv>\t\n\t);\n};\n\nexport default Card;\n\n"]},"metadata":{},"sourceType":"module"}